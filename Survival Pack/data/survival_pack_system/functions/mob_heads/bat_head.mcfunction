#use 1.13 parsing
execute as @e[nbt={Item:{id:"minecraft:player_head",tag:{SkullOwner:{Id:"e2d4c388-42d5-4a96-b4c9-623df7f5e026"}}}},scores={head_crafting=0..0}] at @s if entity @e[nbt={Item:{id:"minecraft:dragon_breath",Count:4b}},distance=..1,limit=1] if block ~ ~ ~ minecraft:cauldron[level=3] if block ~1 ~ ~ #minecraft:stairs if block ~-1 ~ ~ #minecraft:stairs if block ~ ~ ~1 #minecraft:stairs if block ~ ~ ~-1 #minecraft:stairs run scoreboard players set @s head_crafting 1
execute as @e[type=item,scores={head_crafting=1}] at @s run summon item ~ ~0.5 ~ {Item:{id:"minecraft:bat_spawn_egg",Count:1b}}
execute as @e[type=item,scores={head_crafting=1}] at @s run summon fireworks_rocket ~ ~1 ~ {LifeTime:0,FireworksItem:{id:firework_rocket,Count:1b,tag:{Fireworks:{Explosions:[{Type:0,Trail:1,Colors:[I;5320730],FadeColors:[I;1973019]}],Flight:-1}}}}
execute as @e[type=item,scores={head_crafting=1}] at @s run setblock ~ ~ ~ cauldron[level=0]
execute as @e[type=item,scores={head_crafting=1}] at @s run kill @e[type=item,distance=..1,nbt=!{Item:{id:"minecraft:bat_spawn_egg"}}]